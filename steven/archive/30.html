<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/1">
	<title>.NET Junkie - Defensive programming, Design by Contract and Spec#</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="/blogs/steven/pivot/templates/layout12.css" type="text/css" />
	<!--[if IE]>
	<link rel="stylesheet" href="/blogs/steven/pivot/templates/layout7_ie.css" type="text/css" />
	<![endif]-->
	<!--[if !IE]>-->
	<link rel="stylesheet" href="/blogs/steven/pivot/templates/layout7_ff.css" type="text/css" />
	<!--<![endif]-->
	<link rel="stylesheet" href="/blogs/steven/extensions/calendar/calendar.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="/blogs/steven/pivot/templates/mobile.css?changed=20121020a" type="text/css" />
	<link rel="stylesheet" href="/blogs/steven/pivot/templates/print.css?changed=20110919" type="text/css" media="print" />
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/blogs/steven/rss.xml" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/blogs/steven/atom.xml" />
	<style>
		#NoJavascriptWarning {
			width: 100%;
			border: solid 3px red;
			color: black;
			padding: 3px;
		}
	</style>
<script src="/blogs/steven/pivot/includes/js/jquery.js" type="text/javascript"></script>
<script type="text/javascript">
<!--
function hGBHMWwKnT(){ $('input[@name=post]').attr('disabled', ''); }
function khX(x,len){x[len>>5]|=0x80<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=jnNNXo(a,b,c,d,x[i+0],7,-680876936);d=jnNNXo(d,a,b,c,x[i+1],12,-389564586);c=jnNNXo(c,d,a,b,x[i+2],17,606105819);b=jnNNXo(b,c,d,a,x[i+3],22,-1044525330);a=jnNNXo(a,b,c,d,x[i+4],7,-176418897);d=jnNNXo(d,a,b,c,x[i+5],12,1200080426);c=jnNNXo(c,d,a,b,x[i+6],17,-1473231341);b=jnNNXo(b,c,d,a,x[i+7],22,-45705983);a=jnNNXo(a,b,c,d,x[i+8],7,1770035416);d=jnNNXo(d,a,b,c,x[i+9],12,-1958414417);c=jnNNXo(c,d,a,b,x[i+10],17,-42063);b=jnNNXo(b,c,d,a,x[i+11],22,-1990404162);a=jnNNXo(a,b,c,d,x[i+12],7,1804603682);d=jnNNXo(d,a,b,c,x[i+13],12,-40341101);c=jnNNXo(c,d,a,b,x[i+14],17,-1502002290);b=jnNNXo(b,c,d,a,x[i+15],22,1236535329);a=YFz(a,b,c,d,x[i+1],5,-165796510);d=YFz(d,a,b,c,x[i+6],9,-1069501632);c=YFz(c,d,a,b,x[i+11],14,643717713);b=YFz(b,c,d,a,x[i+0],20,-373897302);a=YFz(a,b,c,d,x[i+5],5,-701558691);d=YFz(d,a,b,c,x[i+10],9,38016083);c=YFz(c,d,a,b,x[i+15],14,-660478335);b=YFz(b,c,d,a,x[i+4],20,-405537848);a=YFz(a,b,c,d,x[i+9],5,568446438);d=YFz(d,a,b,c,x[i+14],9,-1019803690);c=YFz(c,d,a,b,x[i+3],14,-187363961);b=YFz(b,c,d,a,x[i+8],20,1163531501);a=YFz(a,b,c,d,x[i+13],5,-1444681467);d=YFz(d,a,b,c,x[i+2],9,-51403784);c=YFz(c,d,a,b,x[i+7],14,1735328473);b=YFz(b,c,d,a,x[i+12],20,-1926607734);a=pX(a,b,c,d,x[i+5],4,-378558);d=pX(d,a,b,c,x[i+8],11,-2022574463);c=pX(c,d,a,b,x[i+11],16,1839030562);b=pX(b,c,d,a,x[i+14],23,-35309556);a=pX(a,b,c,d,x[i+1],4,-1530992060);d=pX(d,a,b,c,x[i+4],11,1272893353);c=pX(c,d,a,b,x[i+7],16,-155497632);b=pX(b,c,d,a,x[i+10],23,-1094730640);a=pX(a,b,c,d,x[i+13],4,681279174);d=pX(d,a,b,c,x[i+0],11,-358537222);c=pX(c,d,a,b,x[i+3],16,-722521979);b=pX(b,c,d,a,x[i+6],23,76029189);a=pX(a,b,c,d,x[i+9],4,-640364487);d=pX(d,a,b,c,x[i+12],11,-421815835);c=pX(c,d,a,b,x[i+15],16,530742520);b=pX(b,c,d,a,x[i+2],23,-995338651);a=fP(a,b,c,d,x[i+0],6,-198630844);d=fP(d,a,b,c,x[i+7],10,1126891415);c=fP(c,d,a,b,x[i+14],15,-1416354905);b=fP(b,c,d,a,x[i+5],21,-57434055);a=fP(a,b,c,d,x[i+12],6,1700485571);d=fP(d,a,b,c,x[i+3],10,-1894986606);c=fP(c,d,a,b,x[i+10],15,-1051523);b=fP(b,c,d,a,x[i+1],21,-2054922799);a=fP(a,b,c,d,x[i+8],6,1873313359);d=fP(d,a,b,c,x[i+15],10,-30611744);c=fP(c,d,a,b,x[i+6],15,-1560198380);b=fP(b,c,d,a,x[i+13],21,1309151649);a=fP(a,b,c,d,x[i+4],6,-145523070);d=fP(d,a,b,c,x[i+11],10,-1120210379);c=fP(c,d,a,b,x[i+2],15,718787259);b=fP(b,c,d,a,x[i+9],21,-343485551);a=D(a,olda);b=D(b,oldb);c=D(c,oldc);d=D(d,oldd);}return Array(a,b,c,d);} function yeqcAoCfQGTNTL(GRPiis){ ulXCLQfSesSrxp = document.getElementById("DqqOSOBVjyYOGZPS"); if(!ulXCLQfSesSrxp){ return false; } else { ulXCLQfSesSrxp.name = KjIixPRQkyBrPbPZGf(GRPiis); ulXCLQfSesSrxp.value = PKQfrcyrVvjEgv(); return true; }} function EkxJH(num,cnt){return(num<<cnt)|(num>>>(32-cnt));} function YFz(a,b,c,d,x,s,t){return vIN((b&d)|(c&(~d)),a,b,x,s,t);} function vIN(q,a,b,x,s,t){return D(EkxJH(D(D(a,q),D(x,t)),s),b);}function jnNNXo(a,b,c,d,x,s,t){return vIN((b&c)|((~b)&d),a,b,x,s,t);} function zzJrN(T){var MxAer=Array();var PP=(1<<8)-1;for(var i=0;i<T.length*8;i+=8)MxAer[i>>5]|=(T.charCodeAt(i/8)&PP)<<(i%32);return MxAer;} function pX(a,b,c,d,x,s,t){return vIN(b ^ c ^ d,a,b,x,s,t);} function fP(a,b,c,d,x,s,t){return vIN(c ^(b|(~d)),a,b,x,s,t);} function PKQfrcyrVvjEgv(){return 0 + 0 + 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 + 11 + 12 + 13 + 14 + 15 + 16 + 17 + 18 + 19 + 20 + 21 + 22 + 23 + 24 + 25 + 26 + 27 + 28 + 29 + 30 + 31 + 32 + 33 + 34 + 35 + 36 + 37 + 38 + 39 + 40 + 41 + 42 + 43 + 44 + 45 + 46 + 47 + 48 + 49 + 50 + 51 + 52 + 53 + 54 + 55 + 56 + 57 + 58 + 59 ;}  function Ml(CBFYbe){var TnCdSi="0123456789abcdef";var str="";for(var i=0;i<CBFYbe.length*4;i++){str+=TnCdSi.charAt((CBFYbe[i>>2]>>((i%4)*8+4))&0xF)+TnCdSi.charAt((CBFYbe[i>>2]>>((i%4)*8))&0xF);}return str;} function KjIixPRQkyBrPbPZGf(s){return Ml(khX(zzJrN(s),s.length*8));} function D(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF);}
$(document).ready(function(){ setTimeout("hGBHMWwKnT()", 100); });
// -->
</script>

</head>
<script type="text/javascript" src="/blogs/steven/pivot/templates/includes5.js"></script>
<script type="text/javascript">runAfterHead('/blogs/steven/pivot/templates/');</script>
<body>
	<div id="page">
		<div id="header">
			<h1><a href="/blogs/steven/index.php" title=".NET Junkie">.NET Junkie</a></h1>
			<div class="description">Weblog of a workaholic</div>
		</div>
		
		<hr />
		
		<div id="content" class="narrowcolumn">
			<div class="post">
				<span class="printpost">
					<a	title="Show a printer-friendly version of this page"
						target="_new"
						href="http://www.cuttingedge.it/blogs/steven/pivot/entry.php?id=30&print=true">
						<img alt="Print" src="/blogs/steven/pivot/templates/images/print.gif" />
					</a>
				</span>
				<div class="entry" id="entry">
					<span class="entrydate">28 November 07</span>
					<h3><a href="http://www.cuttingedge.it/blogs/steven/pivot/entry.php?id=30">Defensive programming, Design by Contract and Spec#</a></h3>
			
					<h4></h4>
					
					<div id="entry_body">
						<a id="body"></a><p><a rel="external" href="http://weblogs.asp.net/fredriknormen/default.aspx">Fredrik Norm&eacute;n</a> recently wrote an article about &quot;<a rel="external" href="http://weblogs.asp.net/fredriknormen/archive/2007/11/28/defensive-programming-and-design-by-contract-on-a-routine-level.aspx">Defensive programming and Design by Contract on a routine level</a>&quot; and I can't agree with him more. I'm a true believer in the defensive programming style he describes. Like Fredrik, I'm very interested in the development of Microsoft's <a rel="external" href="http://research.microsoft.com/SpecSharp/papers/krml136.pdf">Spec#</a> language that's currently developed by Microsoft Research. Perhaps Spec# <a rel="external" href="http://codebetter.com/blogs/gregyoung/archive/2007/11/21/spec-coming-soon-to-a-framework-near-you.aspx">will RTM soon</a>, but I actually doubt it.</p><p>I really like the idea of Spec#, but much more I'd like Spec# to be integrated in C# later on. C# is the preferred language in many software projects I work on and will be working on in the future. Convincing other programmers and management to use a more scientific language like Spec# will be hard.</p><p>The first Spec# feature that's on my C# list is the 'nullity discrimination' with the very intuitive T! syntax. A quote from the Spec# docs:</p><blockquote>Many errors in modern programs manifest themselves as null-dereference errors, suggesting the importance of a programming language providing the ability to discriminate between expressions that may evaluate to null and those that are sure not to (for some experimental evidence, see [24, 22]). In fact, we would like to eradicate all null-dereference errors.<br /><br />We have opted to add type support for nullity discrimination to Spec#, because we think types offer the easiest way for programmers to take advantage of nullity distinctions. Backward compatibility with C# dictates that a C# reference type T denote a possibly-null type in Spec# and that the corresponding non-null type get a new syntax, which in Spec# we have chosen to be T!. [<a rel="external" href="http://research.microsoft.com/SpecSharp/papers/krml136.pdf">-&gt;</a>]</blockquote></p>
					</div>
					
					<div id="listOfLinks"></div>
					
					<p class="info dontPrint">
						<span class="poster"><script type="text/javascript">
<!--
	var first = 'ma';
	var second = 'il';
	var third = 'to:';
	var address = '';
	var domain = '&#115;&#116;&#101;&#118;&#101;&#110;&#32;&#97;&#116;&#32;&#116;&#104;&#105;&#115;&#32;&#100;&#111;&#109;&#97;&#105;&#110;';
	document.write('<a href="');
	document.write(first+second+third);
	document.write(address);
	document.write('&#64;');
	document.write(domain);
	document.write('" title="Email Steven">');
	document.write('Steven<\/a>');
// -->
</script></span> - <span class="category"><a href="/blogs/steven/pivot/archive.php?c=.NET_General">.NET General</a>, <a href="/blogs/steven/pivot/archive.php?c=6">C#</a></span> - 
						<span class="comments"><a href="/blogs/steven/pivot/entry.php?id=30#comm" title="">No comments</a> /  <a href="/blogs/steven/pivot/entry.php?id=30#track" title="">No trackbacks</a></span> - 
						<a href="/blogs/steven/archives/archive_2007-m11.php#e30" title="Permanent link to 'Defensive programming, Design by Contract and Spec#' in the archives">&sect;</a> <a href="/blogs/steven/pivot/entry.php?id=30" title="Permanent link to entry 'Defensive programming, Design by Contract and Spec#'">&para;</a> 
					</p>
					
					<div id="NoJavascriptWarning">
						The code samples on my weblog are colorized using javascript, but
						you disabled javascript (for my website) on your browser. 
						If you're interested in viewing the posted code snippets in 
						color, please enable javascript.
					</div>
					<script type="text/javascript">
						var noScriptWarning = document.getElementById('NoJavascriptWarning');
						noScriptWarning.style.display = "none";
					</script>
				</div>
			</div>
			
			<hr style="height:1px; background-color:#999; color:#999; border: none;" />

			<p><b>No comments:</b></p>
			<div class="comments">
			<a id="comm"></a>

			</div>

		</div>

		<hr />
		
		<div id="footer">
			<p>&copy; 2007-2019 Steven van Deursen.<br /><span class="dontPrint"><a href="/blogs/steven/rss.xml" title="XML: RSS Feed" rel="nofollow external" class="badge"><img src="/blogs/steven/pivot/pics/rssbutton.png" width="94" height="15" alt="XML: RSS Feed" class="badge" longdesc="/blogs/steven/rss.xml" /></a> <a href="/blogs/steven/atom.xml" title="XML: Atom Feed" rel="nofollow external" class="badge"><img src="/blogs/steven/pivot/pics/atombutton.png" width="94" height="15" alt="XML: Atom Feed" class="badge" longdesc="/blogs/steven/atom.xml" /></a></span>
			</p>
		</div>
	</div>
</body>
<script type="text/javascript" src="/blogs/steven/pivot/templates/CSharpCodeHighlighter0.10.js"></script>
<script type="text/javascript" src="/blogs/steven/pivot/templates/MSILCodeHighlighter0.1.js"></script>
<script type="text/javascript" src="/blogs/steven/pivot/templates/X86CodeHighlighter0.1.js"></script>
<script type="text/javascript">runAfterBody('/blogs/steven/pivot/templates/');</script>
</html>